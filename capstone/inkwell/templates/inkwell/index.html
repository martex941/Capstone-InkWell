{% extends "inkwell/layout.html" %}

{% block body %}
<style>
    .col-5 {
        border: black 2px solid;
        border-radius: 5%;
        margin: 1rem;
    }
    .col-3 {
        border: black 2px solid;
        border-radius: 5%;
        margin: 1rem;
    }
    .index.container-fluid {
        padding: 0;
        margin: 0;
    }
    .row {
        padding: 1rem;
    }
    .line {
        border-bottom: 1px black solid;
        border-width: 50%;
    }
    .underline-text {
        border-top: 1px black solid;
    }
    .genre-buttons {
        padding: 1rem;
    }
    .genre-buttons button, .filtering button {
        margin: 0.25rem;
    }

    .inkDiv, .notiDiv {
        border: 1px black solid;
    }

    .notifications-col-style {
        height: 50vh;
    }
    .profile-picture {
        border: 1px black solid;
        border-radius: 100%;
    }
</style>

<script>
    document.addEventListener("DOMContentLoaded", () => {
        timeline();
        notifications();
    });
</script>

<div class="index container-fluid">
    <div class="row d-flex justify-content-center">

        <div class="col-3" id="authors-col">
            <div class="genre-buttons">
                <button>Fantasy</button>
                <button>Horror</button>
                <button>Science Fiction</button>
                <button>Thriller</button>
                <button>Romance</button>
                <button>Fan Fiction</button>
            </div>
            <div class="underline-text popular-authors text-center" id="popularAuthors">
                <h3>Most popular authors this week</h3>
                <!-- authors that had the most new followers times amount of readers this week -->
                {% for author in popularAuthors %}
                <div class="popAuthors row">
                    <div class="col">
                        <h5 class="profile-picture lead">profile pic</h5>
                    </div>
                    <div class="col">
                        <a class="authorLink" href="{% url 'well' username=author.username %}"><h5 class="lead">{{author.username}}</h5></a>
                        <h5 class="lead">followers</h5>
                    </div>
                </div>
                {% endfor %}
            </div>
            
            <div class="underline-text top-authors text-center" id="topAuthors">
                <h3>Top authors this week</h3>
                <!-- multiply amount of letters/words written in their inks
                times amount of co-auhtor requests -->
                {% for author in topAuthors %}
                    <a class="authorLink" href="{% url 'well' username=author.username %}"><h5 class="lead">{{author.username}}</h5></a>
                {% endfor %}
            </div>
            
            <div class="underline-text top-co-authors text-center" id="topCoAuthors">
                <h3>Top co-authors this week</h3>
                <!-- co-authors that had the biggest amount of accepted edit requests -->
                {% for author in topCoAuthors %}
                    <a class="authorLink" href="{% url 'well' username=author.username %}"><h5 class="lead">{{author.username}}</h5></a>
                {% endfor %}
            </div>
            
            <div class="underline-text discover-authors text-center">
                <h3>Discover</h3>
                <!-- 20 users are chosen at random -->
                {% for author in discoverAuthors %}
                    <a class="authorLink" href="{% url 'well' username=author.username %}"><h5 class="lead">{{author.username}}</h5></a>
                {% endfor %}
            </div>
            
        </div>

        <div class="col-5">
            <div class="container d-flex justify-content-center filtering mt-2">
                <button class="" id="mainTimelineBtn">Main Timeline</button>
                <button class="" id="followingTimelineBtn">Following</button>
            </div>
            <div class="container" id="timeline">
            </div>
        </div>

        <div class="notifications-col-style col-3" id="notifications_col">
            <h5 class="text-center mt-2">NOTIFICATIONS</h5>
            <div class="container" id="notifications">

            </div>
        </div>

    </div>
</div>

{% endblock %}