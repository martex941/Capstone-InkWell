{% extends "inkwell/layout.html" %}

{% block body %}
<script>
    document.addEventListener("DOMContentLoaded", () => {
        coAuthorRequestHighlight();
    });
    
</script>

<style>
    .added {
        background-color: #aaffaa;
    }
    
    .deleted {
            background-color: #ffaaaa;
    }
</style>

<div class="container texts">
    <h5>ORIGINAL TEXT</h5>
    <div class="request-review-text" id="originalText">
        <!-- Your original text here -->
        {{originalChapter.chapterContents.html|safe}}
    </div>
    <h5>MODIFIED TEXT</h5>
    <div class="request-review-text" id="modifiedText">
        <!-- Your modified text here -->
        {{newChapterContent.chapterContents.html|safe}}
    </div>
    <h5>DELETED TEXT</h5>
    <div class="request-review-text" id="whatWasDeleted">
        {{originalChapter.chapterContents.html|safe}}
    </div>

    {% if newChapterContent.acceptedStatus %}
        THIS REQUEST HAS ALREADY BEEN ACCEPTED
    {% elif newChapterContent.declinedMessage != "" %}
        THIS REQUEST HAS ALREADY BEEN DECLINED
    {% else %}
        <form class="form" action="" method="post">
            {% csrf_token %}
            <button class="btn btn-success" type="submit" name="requestAccepted">ACCEPT REQUEST</button>
            <button class="btn btn-danger" id="declineBtn" onclick="declineRequest()" type="button">DECLINE REQUEST</button>
            <button class="btn btn-primary" id="go-backBtn" style="display: none;" onclick="goBackBtn()" type="button">GO BACK</button>
            <button class="btn btn-danger" id="confirmDeclineBtn" style="display: none;" type="submit" name="requestDeclined">CONFIRM DECLINE</button>
            <textarea style="display: none;" id="declineMessageTextArea" placeholder="Provide a reason for declining the request..." rows="4" cols="50" name="declineReason"></textarea>
        </form>
    {% endif %}    
</div>
{% endblock %}